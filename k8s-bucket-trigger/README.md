<!-- This README is autogenerated, any changes made will be overwritten on the next merge -->
<!-- BEGIN_TF_DOCS -->
# k8s-bucket-trigger

Creates resources around any internal app which should be triggered on the creation of a GCS object

Written by Alex Merenda for moove.ai

## Providers

| Name | Version |
|------|---------|
| <a name="provider_google"></a> [google](#provider\_google) | n/a |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_ack_deadline_seconds"></a> [ack\_deadline\_seconds](#input\_ack\_deadline\_seconds) | The ack deadline in seconds for the subscription. | `string` | `"120"` | no |
| <a name="input_app_name"></a> [app\_name](#input\_app\_name) | The name of the k8s app. Must match the name in the k8s-deployments repo | `string` | n/a | yes |
| <a name="input_create_input_bucket"></a> [create\_input\_bucket](#input\_create\_input\_bucket) | Creates the input bucket if true | `bool` | `true` | no |
| <a name="input_create_output_bucket"></a> [create\_output\_bucket](#input\_create\_output\_bucket) | Creates the output bucket if true | `bool` | `true` | no |
| <a name="input_enable_output"></a> [enable\_output](#input\_enable\_output) | Creates output resources | `bool` | `true` | no |
| <a name="input_environment"></a> [environment](#input\_environment) | The environment this module is running in | `string` | n/a | yes |
| <a name="input_input_bucket"></a> [input\_bucket](#input\_input\_bucket) | Objects created in this bucket will trigger a pub/sub notification to the configured topic | `string` | n/a | yes |
| <a name="input_input_bucket_client"></a> [input\_bucket\_client](#input\_input\_bucket\_client) | The client with t | `string` | n/a | yes |
| <a name="input_input_bucket_lifecycle_rules"></a> [input\_bucket\_lifecycle\_rules](#input\_input\_bucket\_lifecycle\_rules) | The lifecycle rules to be applied to the input bucket. If this array is populated then each element in it will be applied as a lifecycle rule to this bucket. The structure of each element is described in detail here: https://www.terraform.io/docs/providers/google/r/storage_bucket.html#lifecycle_rule. See also: https://cloud.google.com/storage/docs/lifecycle#configuration. | `list` | `[]` | no |
| <a name="input_input_bucket_location"></a> [input\_bucket\_location](#input\_input\_bucket\_location) | The region the input\_bucket is located in | `string` | `"US"` | no |
| <a name="input_input_bucket_project"></a> [input\_bucket\_project](#input\_input\_bucket\_project) | Optional. If the bucket is located in a different project, set this value. If create\_input\_bucket is set, the bucket will be created in this project. | `string` | `""` | no |
| <a name="input_k8s_sa"></a> [k8s\_sa](#input\_k8s\_sa) | The name of the kubernetes service account. | `string` | `""` | no |
| <a name="input_labels"></a> [labels](#input\_labels) | Map of additional labels to apply | `map(string)` | `{}` | no |
| <a name="input_namespace"></a> [namespace](#input\_namespace) | n/a | `any` | n/a | yes |
| <a name="input_notification_enabled"></a> [notification\_enabled](#input\_notification\_enabled) | Set to false to disable the bucket notification. Useful for testing. | `bool` | `true` | no |
| <a name="input_output_bucket"></a> [output\_bucket](#input\_output\_bucket) | Bucket to hold the output of this app. Required if 'enable\_output' is true | `string` | `""` | no |
| <a name="input_output_bucket_client"></a> [output\_bucket\_client](#input\_output\_bucket\_client) | The client with t | `string` | `"moove"` | no |
| <a name="input_output_bucket_lifecycle_rules"></a> [output\_bucket\_lifecycle\_rules](#input\_output\_bucket\_lifecycle\_rules) | The lifecycle rules to be applied to the output bucket. If this array is populated then each element in it will be applied as a lifecycle rule to this bucket. The structure of each element is described in detail here: https://www.terraform.io/docs/providers/google/r/storage_bucket.html#lifecycle_rule. See also: https://cloud.google.com/storage/docs/lifecycle#configuration. | `list` | `[]` | no |
| <a name="input_output_bucket_location"></a> [output\_bucket\_location](#input\_output\_bucket\_location) | The region the input\_bucket is located in | `string` | `"US"` | no |
| <a name="input_output_bucket_project"></a> [output\_bucket\_project](#input\_output\_bucket\_project) | Optional. If the bucket is located in a different project, set this value. If create\_input\_bucket is set, the bucket will be created in this project. | `string` | `""` | no |
| <a name="input_project_id"></a> [project\_id](#input\_project\_id) | The project ID to create these resources on | `string` | n/a | yes |
| <a name="input_service_account_id"></a> [service\_account\_id](#input\_service\_account\_id) | n/a | `any` | n/a | yes |
| <a name="input_subscription_name"></a> [subscription\_name](#input\_subscription\_name) | Optional. Sets the subscription name if set. If unset, the topic name defaults to the value of input\_bucket | `string` | `""` | no |
| <a name="input_topic_name"></a> [topic\_name](#input\_topic\_name) | Optional. Sets the topic name if set. If unset, the topic name defaults to the value of input\_bucket | `string` | `""` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_app_name"></a> [app\_name](#output\_app\_name) | The name of the application |
| <a name="output_input_bucket"></a> [input\_bucket](#output\_input\_bucket) | The name of the bucket being used |
| <a name="output_input_bucket_project"></a> [input\_bucket\_project](#output\_input\_bucket\_project) | The project the bucket is in |
| <a name="output_namespace"></a> [namespace](#output\_namespace) | The namespace the app is deployed in |
| <a name="output_output_bucket"></a> [output\_bucket](#output\_output\_bucket) | The name of the bucket being used |
| <a name="output_output_bucket_project"></a> [output\_bucket\_project](#output\_output\_bucket\_project) | The project the bucket is in |
| <a name="output_project_id"></a> [project\_id](#output\_project\_id) | The project\_id |
| <a name="output_subscription"></a> [subscription](#output\_subscription) | The name of the subscription |
| <a name="output_topic"></a> [topic](#output\_topic) | The name of the topi |
<!-- END_TF_DOCS -->